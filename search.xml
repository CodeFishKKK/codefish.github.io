<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ä¸ªäººç®—æ³•æ¨¡æ¿</title>
      <link href="/2022/10/22/%E7%AE%97%E6%B3%95/%E6%9D%BF%E5%AD%90/"/>
      <url>/2022/10/22/%E7%AE%97%E6%B3%95/%E6%9D%BF%E5%AD%90/</url>
      
        <content type="html"><![CDATA[<h1 id="ç®—æ³•ç«èµ›ä¸“ç”¨æ¨¡æ¿"><a href="#ç®—æ³•ç«èµ›ä¸“ç”¨æ¨¡æ¿" class="headerlink" title="ç®—æ³•ç«èµ›ä¸“ç”¨æ¨¡æ¿"></a>ç®—æ³•ç«èµ›ä¸“ç”¨æ¨¡æ¿</h1><h3 id="C-ç»„è§£ç»‘ä»£ç ï¼ˆåŠ é€Ÿè¾“å…¥è¾“å‡ºï¼‰ï¼š"><a href="#C-ç»„è§£ç»‘ä»£ç ï¼ˆåŠ é€Ÿè¾“å…¥è¾“å‡ºï¼‰ï¼š" class="headerlink" title="C++ç»„è§£ç»‘ä»£ç ï¼ˆåŠ é€Ÿè¾“å…¥è¾“å‡ºï¼‰ï¼š"></a>C++ç»„è§£ç»‘ä»£ç ï¼ˆåŠ é€Ÿè¾“å…¥è¾“å‡ºï¼‰ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br></pre></td></tr></table></figure><h3 id="ç¦»æ•£åŒ–æ¨¡æ¿ï¼š"><a href="#ç¦»æ•£åŒ–æ¨¡æ¿ï¼š" class="headerlink" title="ç¦»æ•£åŒ–æ¨¡æ¿ï¼š"></a>ç¦»æ•£åŒ–æ¨¡æ¿ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; alls;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get_id</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;val)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">lower_bound</span>(<span class="built_in">all</span>(alls), val) - alls.<span class="built_in">begin</span>() + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(<span class="built_in">all</span>(alls));</span><br><span class="line">alls.<span class="built_in">erase</span>(<span class="built_in">unique</span>(<span class="built_in">all</span>(alls)), alls.<span class="built_in">end</span>());</span><br></pre></td></tr></table></figure><h3 id="æ ‘çŠ¶æ•°ç»„æ¨¡æ¿ï¼š"><a href="#æ ‘çŠ¶æ•°ç»„æ¨¡æ¿ï¼š" class="headerlink" title="æ ‘çŠ¶æ•°ç»„æ¨¡æ¿ï¼š"></a>æ ‘çŠ¶æ•°ç»„æ¨¡æ¿ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> tr[N]</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (; x &lt;= n; x += (x &amp; -x)) tr[x] += v;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">query</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> res = <span class="number">0</span>)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (; x; x -= (x &amp; -x)) res += tr[x];</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å—å®å‘¨èµ›ï¼ˆ10.22ï¼‰</title>
      <link href="/2022/10/22/%E5%8D%97%E5%AE%81%E5%91%A8%E8%B5%9B%EF%BC%8810.22%EF%BC%89/"/>
      <url>/2022/10/22/%E5%8D%97%E5%AE%81%E5%91%A8%E8%B5%9B%EF%BC%8810.22%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>æµæµªçš„å…”å­å…ˆç”Ÿåœ¨è“æ˜Ÿé‡è§äº†å¾ˆå¤šæœ‹å‹ï¼Œæ¯æ¬¡å…”å­å…ˆç”Ÿåˆ°æœ‹å‹å®¶åšå®¢ï¼Œæœ‹å‹ä»¬éƒ½ä¼šç»™å…”å­å…ˆç”Ÿåšä¸€å¤§æ¡Œå­å¥½åƒçš„ã€‚</p><p>ç”±äºè“æ˜Ÿçš„æœ‹å‹ä»¬éƒ½éå¸¸å–œæ¬¢è´¨æ•°ï¼Œå› æ­¤é¥­æ¡Œä¸Šç›˜å­èƒŒåéƒ½æœ‰ä¸€ä¸ªè´¨æ•°ä½œä¸ºæ ‡è¯†ã€‚</p><p>æœ‹å‹ä»¬æ¯æ¬¡éƒ½ä¼šåœ¨é¥­åå‘Šè¯‰å…”å­å…ˆç”Ÿï¼Œè¿™é¡¿é¥­æ‰€æœ‰ç›˜å­èƒŒåæ•°å­—çš„ä¹˜ç§¯ã€‚</p><p>ç¬¨ç¬¨çš„å…”å­å…ˆç”Ÿæƒ³çŸ¥é“å“ªäº›ç›˜å­æ˜¯ä»–æ‰€æœ‰æœ‹å‹éƒ½å…±åŒæ‹¥æœ‰çš„ï¼Œä½ èƒ½å¸®å¸®ä»–å˜›ï¼ŸQAQ</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•° n<em>n</em> ,ä»£è¡¨å…”å­å…ˆç”Ÿçš„æœ‹å‹æ•°é‡ã€‚</p><p>ç¬¬äºŒè¡Œè¾“å…¥ n<em>n</em> ä¸ªæ•´æ•° a_i<em>a**i</em>ï¼Œä»£è¡¨æœ‹å‹ä»¬å‘Šè¯‰å…”å­å…ˆç”Ÿçš„è¿™é¡¿é¥­çš„ç›˜å­æ ‡è¯†çš„ä¹˜ç§¯ã€‚</p><p>1 &lt;&#x3D; n &lt;&#x3D; 1e6, 2 &lt;&#x3D; $ai$ &lt;&#x3D; 1e12</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>ç¬¬ä¸€è¡Œè¾“å‡ºå…±åŒç›˜å­çš„ä¸ªæ•°ï¼Œç¬¬äºŒè¡Œä»å°åˆ°å¤§è¾“å‡ºç›˜å­çš„æ ‡è¯†ã€‚</p><h3 id="æ ·ä¾‹1"><a href="#æ ·ä¾‹1" class="headerlink" title="æ ·ä¾‹1"></a>æ ·ä¾‹1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥æ ·ä¾‹ï¼š</span><br><span class="line">4</span><br><span class="line">4 4 4 12</span><br><span class="line">è¾“å‡ºæ ·ä¾‹ï¼š</span><br><span class="line">2</span><br><span class="line">2 2</span><br></pre></td></tr></table></figure><p>åˆ†æï¼š</p><blockquote><p>è¯»æ‡‚é¢˜ç›®æ„æ€æ˜¯æ¯ä¸ªäººåƒä¸€äº›ç¼–å·çš„ç›˜å­ï¼Œç¼–å·éƒ½æ˜¯è´¨æ•°ï¼Œä»¥å‰å­¦æ•°è®ºçš„æ—¶å€™çŸ¥é“æ¯ä¸ªæ•°éƒ½èƒ½è¢«æ‹†æˆæŒ‡æ•°çš„ä¹˜ç§¯ï¼Œä½†æ˜¯äººæ•°nå·²ç»åˆ°äº†10çš„å…­æ¬¡æ–¹ï¼Œæ¯ä¸ªéƒ½æ‹†çš„è¯å¤æ‚åº¦å·²ç»è¿œè¶…1e8å¿…å®šä¼šTï¼Œåˆå› ä¸ºé¢˜ç›®åªè¦å…¬å…±çš„ç›˜å­ï¼Œæœ€å¤§å…¬çº¦æ•°çš„æ‰€æœ‰è´¨å› å­å°±æ˜¯æ‰€æœ‰å…¬å…±ç›˜å­çš„ç¼–å·ï¼Œæ‰€ä»¥åªéœ€è¦æ±‚æœ€å¤§å…¬çº¦æ•°çš„æ‰€æœ‰è´¨å› å­å³å¯ï¼</p></blockquote><p>Tip:æ±‚æ‰€æœ‰è´¨å› å­å¯ä»¥å…ˆæ‰“è¡¨æ±‚å‡ºæ‰€æœ‰èƒ½ç”¨åˆ°çš„primsï¼ˆæŒ‡æ•°ï¼‰ï¼Œç„¶åç”¨å¼é™¤æ³•æŠŠæ‰€æœ‰è´¨å› å­é™¤å‡ºæ¥å³å¯(ç»ƒä½¬çš„ä»£ç )ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; cnt; i ++) &#123;</span><br><span class="line"><span class="keyword">while</span> (t % prime[i] == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="comment">// debug(t);</span></span><br><span class="line">t /= prime[i];</span><br><span class="line">ans.<span class="built_in">emplace_back</span>(prime[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">check</span>(t)) &#123;</span><br><span class="line">ans.<span class="built_in">emplace_back</span>(t);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>REä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> debug(x...) cerr <span class="string">&lt;&lt; (#x) &lt;&lt;&quot; -&gt;</span> <span class="string">&quot;, err(x)</span></span></span><br><span class="line"><span class="string"><span class="meta">#define all(x) (x).begin(), (x).end()</span></span></span><br><span class="line"><span class="string"><span class="meta">#define sz(x) ((int)(x).size())</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">#define fi first</span></span></span><br><span class="line"><span class="string"><span class="meta">#define se second</span></span></span><br><span class="line"><span class="string"><span class="meta">#define endl &#x27;\n&#x27;</span></span></span><br><span class="line"><span class="string"><span class="meta">#define int long long</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">void err() &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">cerr &lt;&lt; &#x27;\n&#x27;;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">template&lt;class T, class... Ts&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">void err(const T &amp;A, const Ts &amp;... other) &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">cerr &lt;&lt; (A) &lt;&lt; &#x27; &#x27;;</span></span></span><br><span class="line"><span class="string"><span class="meta">err(other...);</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">using PII = pair&lt;int, int&gt;;</span></span></span><br><span class="line"><span class="string"><span class="meta">using ll = long long;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">const int N = 100000010, INF = 0x3f3f3f3f;</span></span></span><br><span class="line"><span class="string"><span class="meta">const int mod = 998244353;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">int n, now_gcd, end_num;</span></span></span><br><span class="line"><span class="string"><span class="meta">vector&lt;int&gt; cnt;</span></span></span><br><span class="line"><span class="string"><span class="meta">int num[N];</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">int gcd(int a, int b)&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">return b ? gcd(b, a % b) : a;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">void divide(int x)&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">    for(int i = 2; i &lt;= x/i; i ++ )</span></span></span><br><span class="line"><span class="string"><span class="meta">    &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">        if(x % i == 0)&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">            int d = 0;</span></span></span><br><span class="line"><span class="string"><span class="meta">            while(x % i == 0)&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">            x /= i;</span></span></span><br><span class="line"><span class="string"><span class="meta">            d ++;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">            num[i] += d;</span></span></span><br><span class="line"><span class="string"><span class="meta">            cnt.push_back(i);</span></span></span><br><span class="line"><span class="string"><span class="meta">            end_num += d;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">        </span></span></span><br><span class="line"><span class="string"><span class="meta">        </span></span></span><br><span class="line"><span class="string"><span class="meta">    &#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">    </span></span></span><br><span class="line"><span class="string"><span class="meta">    if(x &gt; 1) &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">    num[x] += 1;</span></span></span><br><span class="line"><span class="string"><span class="meta">    cnt.push_back(x);</span></span></span><br><span class="line"><span class="string"><span class="meta">    end_num ++;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">    puts(&quot;</span><span class="string">&quot;);</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">void solve() &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">int x, t;</span></span></span><br><span class="line"><span class="string"><span class="meta">cin &gt;&gt; n &gt;&gt; t;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">now_gcd = t;</span></span></span><br><span class="line"><span class="string"><span class="meta">for(int i = 1; i &lt; n; i ++ )&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">cin &gt;&gt; x;</span></span></span><br><span class="line"><span class="string"><span class="meta">now_gcd = gcd(now_gcd, x);</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">if(now_gcd)&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">divide(now_gcd);</span></span></span><br><span class="line"><span class="string"><span class="meta">sort(cnt.begin(), cnt.end());</span></span></span><br><span class="line"><span class="string"><span class="meta">cnt.erase((cnt.begin(), cnt.end()), cnt.end());</span></span></span><br><span class="line"><span class="string"><span class="meta">cout &lt;&lt; end_num &lt;&lt; endl;</span></span></span><br><span class="line"><span class="string"><span class="meta">for(auto t : cnt)&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">for(int i = 0; i &lt; num[t]; i ++ ) cout &lt;&lt; t &lt;&lt; &quot;</span> <span class="string">&quot;;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125; else &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">puts(&quot;</span>0<span class="string">&quot;);</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">signed main() &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">ios::sync_with_stdio(false);</span></span></span><br><span class="line"><span class="string"><span class="meta">cin.tie(nullptr);</span></span></span><br><span class="line"><span class="string"><span class="meta">int ___ = 1;</span></span></span><br><span class="line"><span class="string"><span class="meta">// cin &gt;&gt; ___;</span></span></span><br><span class="line"><span class="string"><span class="meta">for (int i = 1; i &lt;= ___; i ++) solve();</span></span></span><br><span class="line"><span class="string"><span class="meta">return 0;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br></pre></td></tr></table></figure><p>ğŸ‘†ä¸Šé¢ä»£ç å­˜åœ¨ä¸€ä¸ªè‡´å‘½é”™è¯¯ç‚¹ï¼Œæˆ‘æŠŠè´¨å› å­å½“æˆä¸‹æ ‡å­˜æˆäº†æ•°ç»„ï¼Œä½†æ˜¯1e12æ¬¡æ–¹è‚¯å®šä¼šè¶…ï¼Œæ‰€ä»¥REã€‚å…¶å®åœ¨æ±‚è´¨å› å­çš„æ—¶å€™åªç”¨æŠŠæ¯ä¸ªé™¤åˆ°çš„è´¨å› å­ä¾æ¬¡æ”¾å…¥ansé‡Œé¢å°±è¡Œäº†ï¼š</p><p>æ”¹è¿›å‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">divide</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt;= x/i; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(x % i == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="type">int</span> d = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(x % i == <span class="number">0</span>)&#123;</span><br><span class="line">            x /= i;</span><br><span class="line">            d ++;</span><br><span class="line">        &#125;</span><br><span class="line">            num[i] += d;</span><br><span class="line">            cnt.<span class="built_in">push_back</span>(i);</span><br><span class="line">            end_num += d;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(x &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    num[x] += <span class="number">1</span>;</span><br><span class="line">    cnt.<span class="built_in">push_back</span>(x);</span><br><span class="line">    end_num ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ”¹è¿›åï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">divide</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i &lt;= x/i; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(x % i == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="type">int</span> d = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(x % i == <span class="number">0</span>)&#123;</span><br><span class="line">            x /= i;</span><br><span class="line">            d ++;</span><br><span class="line">            ans.<span class="built_in">emplace_back</span>(i);            </span><br><span class="line">        &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(x &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    ans.<span class="built_in">emplace_back</span>(x);   </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> debug(x...) cerr <span class="string">&lt;&lt; (#x) &lt;&lt;&quot; -&gt;</span> <span class="string">&quot;, err(x)</span></span></span><br><span class="line"><span class="string"><span class="meta">#define all(x) (x).begin(), (x).end()</span></span></span><br><span class="line"><span class="string"><span class="meta">#define sz(x) ((int)(x).size())</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">#define fi first</span></span></span><br><span class="line"><span class="string"><span class="meta">#define se second</span></span></span><br><span class="line"><span class="string"><span class="meta">#define endl &#x27;\n&#x27;</span></span></span><br><span class="line"><span class="string"><span class="meta">#define int long long</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">void err() &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">cerr &lt;&lt; &#x27;\n&#x27;;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">template&lt;class T, class... Ts&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">void err(const T &amp;A, const Ts &amp;... other) &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">cerr &lt;&lt; (A) &lt;&lt; &#x27; &#x27;;</span></span></span><br><span class="line"><span class="string"><span class="meta">err(other...);</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">using PII = pair&lt;int, int&gt;;</span></span></span><br><span class="line"><span class="string"><span class="meta">using ll = long long;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">const int N = 10000010, INF = 0x3f3f3f3f;</span></span></span><br><span class="line"><span class="string"><span class="meta">const int mod = 998244353;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">int n, now_gcd, end_num;</span></span></span><br><span class="line"><span class="string"><span class="meta">vector&lt;int&gt; ans;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">int gcd(int a, int b)&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">return b ? gcd(b, a % b) : a;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">void divide(int x)&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">    for(int i = 2; i &lt;= x/i; i ++ )</span></span></span><br><span class="line"><span class="string"><span class="meta">    &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">        if(x % i == 0)&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">            int d = 0;</span></span></span><br><span class="line"><span class="string"><span class="meta">            while(x % i == 0)&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">            x /= i;</span></span></span><br><span class="line"><span class="string"><span class="meta">            d ++;</span></span></span><br><span class="line"><span class="string"><span class="meta">            ans.emplace_back(i);            </span></span></span><br><span class="line"><span class="string"><span class="meta">        &#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">            </span></span></span><br><span class="line"><span class="string"><span class="meta">        &#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">        </span></span></span><br><span class="line"><span class="string"><span class="meta">        </span></span></span><br><span class="line"><span class="string"><span class="meta">    &#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">    </span></span></span><br><span class="line"><span class="string"><span class="meta">    if(x &gt; 1) &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">    ans.emplace_back(x);   </span></span></span><br><span class="line"><span class="string"><span class="meta">    &#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">    puts(&quot;</span><span class="string">&quot;);</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">void solve() &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">int x, t;</span></span></span><br><span class="line"><span class="string"><span class="meta">cin &gt;&gt; n &gt;&gt; t;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">now_gcd = t;</span></span></span><br><span class="line"><span class="string"><span class="meta">for(int i = 1; i &lt; n; i ++ )&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">cin &gt;&gt; x;</span></span></span><br><span class="line"><span class="string"><span class="meta">now_gcd = gcd(now_gcd, x);</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">if(now_gcd)&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">divide(now_gcd);</span></span></span><br><span class="line"><span class="string"><span class="meta">sort(ans.begin(), ans.end());</span></span></span><br><span class="line"><span class="string"><span class="meta">cout &lt;&lt; ans.size() &lt;&lt; endl;</span></span></span><br><span class="line"><span class="string"><span class="meta">for(auto t : ans)&#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">cout &lt;&lt; t &lt;&lt; &quot;</span> <span class="string">&quot;;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125; else &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">puts(&quot;</span>0<span class="string">&quot;);</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">signed main() &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">ios::sync_with_stdio(false);</span></span></span><br><span class="line"><span class="string"><span class="meta">cin.tie(nullptr);</span></span></span><br><span class="line"><span class="string"><span class="meta">int ___ = 1;</span></span></span><br><span class="line"><span class="string"><span class="meta">// cin &gt;&gt; ___;</span></span></span><br><span class="line"><span class="string"><span class="meta">for (int i = 1; i &lt;= ___; i ++) solve();</span></span></span><br><span class="line"><span class="string"><span class="meta">return 0;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br></pre></td></tr></table></figure><hr><h2 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>è‡ªä»2022å¹´10æœˆ21æ—¥cmæ¯ç­å®‡å®™ä¹‹åï¼Œè“æ˜Ÿåˆè¿›å…¥äº†æ–°ä¸€è½®æ¼”åŒ–ã€‚æŸä¸€å¤©ï¼Œè“æ˜Ÿæ˜Ÿä¸»çªç„¶å‡ºç°ä¸€æ®µå¾€æ—¥çš„å›å¿†ï¼Œæƒ³èµ·äº†å¾€æ—¥çš„æ‹äººï¼šæœˆæ˜Ÿã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œå››è¾¹å½¢ä»£è¡¨çˆ±æƒ…ï¼Œè“æ˜Ÿä¸ºäº†é‡æ–°è¿½æ±‚æœˆæ˜Ÿï¼Œå‡†å¤‡è®¡ç®—å‡ºå®‡å®™ä¸­æœ‰å¤šå°‘ç§å››è¾¹å½¢æ˜Ÿåº§ã€‚</p><p>tip:å››è¾¹å½¢æ˜Ÿåº§ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªä¸å…¶å®ƒæ˜Ÿåº§ä¸åŒçš„æ˜Ÿæ˜Ÿï¼Œå³ä¸ºä¸åŒçš„å››è¾¹å½¢æ˜Ÿåº§</p><h3 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h3><p>ç¬¬ä¸€è¡Œï¼Œä½ å°†å¾—åˆ°ä¸€ä¸ªæ•´ <code>N</code>ï¼Œè¡¨ç¤ºæ˜Ÿæ˜Ÿçš„æ•°é‡ã€‚</p><p>æ¥ä¸‹æ¥æ¯è¡Œä¸¤ä¸ªæ•°<code>X</code>ï¼Œ<code>Y</code>è¡¨ç¤ºæ˜Ÿæ˜Ÿæ‰€åœ¨çš„åæ ‡ã€‚</p><p>1 &lt;&#x3D; N &lt;&#x3D; 100, $-10^6$ &lt;&#x3D; X,Y &lt;&#x3D; $10^6$</p><h3 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h3><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ‰å¤šå°‘ç§å››è¾¹å½¢æ˜Ÿåº§</p><h3 id="æ ·ä¾‹1-1"><a href="#æ ·ä¾‹1-1" class="headerlink" title="æ ·ä¾‹1"></a>æ ·ä¾‹1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">10 10</span><br><span class="line">10 20</span><br><span class="line">20 20</span><br><span class="line">20 10</span><br><span class="line">25 15</span><br></pre></td></tr></table></figure><p>åˆ†æï¼š</p><blockquote><p>é¢˜ç›®ä¸­åæ ‡æ•°næœ€å¤š100ä¸ªæš´åŠ›çš„è¯å¤æ‚åº¦ä¸º1e6å¯è¡Œï¼Œ<code>åˆ¤æ–­å››ä¸ªåæ ‡æ˜¯å¦åœ¨èƒ½æ„æˆå››è¾¹å½¢åªéœ€è¦åˆ¤æ–­ä¸‰ç‚¹æ˜¯å¦å…±çº¿</code>ï¼Œå³å¯ï¼Œè¦æ˜¯å­˜åæ ‡å»é‡çš„è¯å¤æ‚åº¦ä¼šä¸Šå‡åˆ°4^4^1e6,å°±ä¼šæé™çš„tæ‰äº†QAQ</p></blockquote><p>åˆ¤æ–­æ˜¯å¦å…±çº¿ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bool cal(pair&lt;ll, ll&gt; x, pair&lt;ll, ll&gt; y, pair&lt;ll, ll&gt; z) &#123;</span><br><span class="line">return (z.second - x.second) * (y.first - x.first) - (y.second - x.second) * (z.first - x.first) == 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åŸç†ï¼šæ±‚æ–œç‡æœ¬æ¥æ˜¯é™¤çš„ï¼Œä¼šå‡ºç°å°æ•°è¿˜ä¼šæœ‰è¯¯å·®å¤„ç†èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œä½†æ˜¯è¿™é‡Œåˆ¤æ–­å…±çº¿æ˜¯åˆ¤æ–­æ–œç‡æ˜¯å¦ç›¸ç­‰ï¼Œæ‰€ä»¥äº¤å‰ç›¸ä¹˜åˆ†æ¯å°±æˆäº†ä¸Šé¢çš„å¼å­</p></blockquote><p>ACä»£ç </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> debug(x...) cerr <span class="string">&lt;&lt; (#x) &lt;&lt;&quot; -&gt;</span> <span class="string">&quot;, err(x)</span></span></span><br><span class="line"><span class="string"><span class="meta">#define all(x) (x).begin(), (x).end()</span></span></span><br><span class="line"><span class="string"><span class="meta">#define sz(x) ((int)(x).size())</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">#define fi first</span></span></span><br><span class="line"><span class="string"><span class="meta">#define se second</span></span></span><br><span class="line"><span class="string"><span class="meta">#define endl &#x27;\n&#x27;</span></span></span><br><span class="line"><span class="string"><span class="meta">#define int long long</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">void err() &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">cerr &lt;&lt; &#x27;\n&#x27;;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">template&lt;class T, class... Ts&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">void err(const T &amp;A, const Ts &amp;... other) &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">cerr &lt;&lt; (A) &lt;&lt; &#x27; &#x27;;</span></span></span><br><span class="line"><span class="string"><span class="meta">err(other...);</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta">using PII = pair&lt;int, int&gt;;</span></span></span><br><span class="line"><span class="string"><span class="meta">using ll = long long;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">const int N = 2e6 + 10, INF = 0x3f3f3f3f;</span></span></span><br><span class="line"><span class="string"><span class="meta">const int mod = 998244353;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">bool cal(pair&lt;ll, ll&gt; x, pair&lt;ll, ll&gt; y, pair&lt;ll, ll&gt; z) &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">return (z.second - x.second) * (y.first - x.first) - (y.second - x.second) * (z.first - x.first) == 0;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">void solve() &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">int n;</span></span></span><br><span class="line"><span class="string"><span class="meta">cin &gt;&gt; n;</span></span></span><br><span class="line"><span class="string"><span class="meta">vector&lt;pair&lt;ll, ll&gt;&gt; point(n);</span></span></span><br><span class="line"><span class="string"><span class="meta">for(int i = 0; i &lt; n; i++) cin &gt;&gt; point[i].first &gt;&gt; point[i].second;</span></span></span><br><span class="line"><span class="string"><span class="meta">ll res = 0;</span></span></span><br><span class="line"><span class="string"><span class="meta">for(int i = 0; i &lt; n; i++)</span></span></span><br><span class="line"><span class="string"><span class="meta">for(int j = i + 1; j &lt; n; j++)</span></span></span><br><span class="line"><span class="string"><span class="meta">for(int z = j + 1; z &lt; n; z++)</span></span></span><br><span class="line"><span class="string"><span class="meta">for(int x = z + 1; x &lt; n; x++) &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">if(cal(point[i], point[j], point[z]) || cal(point[i], point[j], point[x]) || cal(point[j], point[z], point[x]) || cal(point[i], point[z], point[x])) continue;</span></span></span><br><span class="line"><span class="string"><span class="meta">res++;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">cout &lt;&lt; res &lt;&lt; endl;;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">signed main() &#123;</span></span></span><br><span class="line"><span class="string"><span class="meta">ios::sync_with_stdio(false);</span></span></span><br><span class="line"><span class="string"><span class="meta">cin.tie(nullptr);</span></span></span><br><span class="line"><span class="string"><span class="meta">int ___ = 1;</span></span></span><br><span class="line"><span class="string"><span class="meta">// cin &gt;&gt; ___;</span></span></span><br><span class="line"><span class="string"><span class="meta">for (int i = 1; i &lt;= ___; i ++) solve();</span></span></span><br><span class="line"><span class="string"><span class="meta">return 0;</span></span></span><br><span class="line"><span class="string"><span class="meta">&#125;</span></span></span><br></pre></td></tr></table></figure><hr><h2 id="é¢˜ç›®æè¿°ï¼š-2"><a href="#é¢˜ç›®æè¿°ï¼š-2" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç¬¬ä¸€è¡Œç»™å‡ºnè¡¨ç¤ºé•¿åº¦ï¼Œéšåä¸¤è¡Œåˆ†åˆ«ç»™å‡ºé•¿n<em>n</em>çš„æ•°ç»„A<em>A</em>å’ŒB<em>B</em></p><p>è¯·è¯•ç€æ„é€ ä¸€ä¸ªé•¿nçš„Cæ•°ç»„ï¼Œä½¿å¾—æ¯ä¸ªCi &#x3D; Aiæˆ–Ci &#x3D; Biæ±‚min(mex(C))</p><p>å…³äºmex: mex(S)çš„å€¼ä¸ºé›†åˆSä¸­æ²¡æœ‰å‡ºç°è¿‡çš„æœ€å°è‡ªç„¶æ•°ã€‚ä¾‹å¦‚ï¼Œmex({1,2}) &#x3D; 0ã€mex({0,1,2,3}) &#x3D; 4</p><h3 id="Input-2"><a href="#Input-2" class="headerlink" title="Input"></a>Input</h3><p>1&lt;&#x3D;<em>n</em>,Ai,Bi&lt;&#x3D;1000000</p><h3 id="Output-2"><a href="#Output-2" class="headerlink" title="Output"></a>Output</h3><p>è¾“å‡ºmin(mex(C))</p><h3 id="è¾“å…¥æ ·ä¾‹1"><a href="#è¾“å…¥æ ·ä¾‹1" class="headerlink" title="è¾“å…¥æ ·ä¾‹1"></a>è¾“å…¥æ ·ä¾‹1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºæ ·ä¾‹1"><a href="#è¾“å‡ºæ ·ä¾‹1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹1"></a>è¾“å‡ºæ ·ä¾‹1</h3><p>åˆ†æï¼š</p><blockquote><p>æœ€å°æ²¡æœ‰å‡ºç°è¿‡çš„æ•°ï¼Œåªæœ‰åœ¨ä¸å¾—ä¸é€‰è¿™ä¸ªæ•°çš„æ—¶å€™ï¼Œè¿™ä¸ªæ•°æ‰ä¼š+1ï¼Œä¹Ÿå°±æ˜¯Ai&#x3D;Biçš„æƒ…å†µï¼Œäºæ˜¯åªè¦ç»Ÿè®¡Aiå’ŒBiç›¸åŒçš„æ•°é‡Œé¢æ²¡æœ‰å‡ºç°è¿‡çš„æœ€å°çš„æ•°å³å¯-&gt;è·å–æ»¡è¶³Ai&#x3D;Bi-&gt;æ’åº-&gt;æ±‚æœ€å°çš„æ²¡æœ‰å‡ºç°è¿‡çš„æ•°</p></blockquote><p>Tip:è¾“å…¥è¿‡å¤šï¼Œè®°å¾—è§£ç»‘ï¼Œå¦åˆ™ä¼šT(ç»ƒä½¬yyds)ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ios::sync_with_stdio(false);</span><br><span class="line">cin.tie(nullptr);</span><br></pre></td></tr></table></figure><p>ACä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">#define int long long</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">const int N = 10000010;</span><br><span class="line"></span><br><span class="line">int n, res, res1, res2;</span><br><span class="line">int T;</span><br><span class="line">bool f;</span><br><span class="line">vector&lt;int&gt; a, b, c;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void solve()&#123;</span><br><span class="line">    int x;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    for(int i = 0; i &lt; n; i ++ ) &#123;</span><br><span class="line">        cin &gt;&gt; x;</span><br><span class="line">        a.push_back(x);</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i = 0; i &lt; n; i ++ ) &#123;</span><br><span class="line">        cin &gt;&gt; x;</span><br><span class="line">        b.push_back(x);</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i = 0; i &lt; n; i ++ )&#123;</span><br><span class="line">        if(a[i] == b[i])&#123;</span><br><span class="line">            c.push_back(a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(c.begin(), c.end());</span><br><span class="line">    c.erase(unique(c.begin(), c.end()), c.end());</span><br><span class="line">    for(int i = 0; i &lt; c.size(); i ++ )&#123;</span><br><span class="line">        if(i != c[i])&#123;</span><br><span class="line">            cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">            f = true;</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if(!f) cout &lt;&lt; c.size() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">signed main()&#123;</span><br><span class="line">    ios::sync_with_stdio(false);</span><br><span class="line">cin.tie(nullptr);</span><br><span class="line">    solve();</span><br><span class="line">    </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> contest </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ideaå¸¸ç”¨å¿«æ·é”®</title>
      <link href="/2022/10/16/idea%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>/2022/10/16/idea%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="ideaå¸¸ç”¨çš„å¿«æ·é”®"><a href="#ideaå¸¸ç”¨çš„å¿«æ·é”®" class="headerlink" title="ideaå¸¸ç”¨çš„å¿«æ·é”®"></a>ideaå¸¸ç”¨çš„å¿«æ·é”®</h1><table><thead><tr><th>å¿«æ·é”®</th><th align="left">ä»‹ç»</th></tr></thead><tbody><tr><td>Ctrl + F</td><td align="left">åœ¨å½“å‰æ–‡ä»¶è¿›è¡Œæ–‡æœ¬æŸ¥æ‰¾</td></tr><tr><td>Ctrl + R</td><td align="left">åœ¨å½“å‰æ–‡ä»¶è¿›è¡Œæ–‡æœ¬æ›¿æ¢</td></tr><tr><td>Ctrl + D</td><td align="left">å¤åˆ¶é€‰æ‹©å†…å®¹ï¼Œå¹¶æŠŠå¤åˆ¶å†…å®¹æ’å…¥å…‰æ ‡ä½ç½®ä¸‹é¢</td></tr><tr><td>Ctrl + W</td><td align="left">é€’è¿›å¼é€‰æ‹©ä»£ç å—ã€‚å¯é€‰ä¸­å…‰æ ‡æ‰€åœ¨çš„å•è¯æˆ–æ®µè½ï¼Œè¿ç»­æŒ‰ä¼šåœ¨åŸæœ‰é€‰ä¸­çš„åŸºç¡€ä¸Šå†æ‰©å±•é€‰ä¸­èŒƒå›´</td></tr><tr><td>Shift + F10</td><td align="left">ç­‰æ•ˆäºç‚¹å‡»å·¥å…·æ çš„ <code>Run</code> æŒ‰é’®</td></tr><tr><td>Ctrl + Alt + L</td><td align="left">æ ¼å¼åŒ–ä»£ç ï¼Œå¯ä»¥å¯¹å½“å‰æ–‡ä»¶å’Œæ•´ä¸ªåŒ…ç›®å½•ä½¿ç”¨</td></tr><tr><td>Ctrl + Shift + Z</td><td align="left">å–æ¶ˆæ’¤é”€</td></tr><tr><td>Ctrl + Shift + F</td><td align="left">æ ¹æ®è¾“å…¥å†…å®¹æŸ¥æ‰¾æ•´ä¸ªé¡¹ç›® æˆ– æŒ‡å®šç›®å½•å†…æ–‡ä»¶</td></tr><tr><td>Ctrl + Shift + &#x2F;</td><td align="left">ä»£ç å—æ³¨é‡Š</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> å·¥ç¨‹é¡¹ç›® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥ç¨‹é¡¹ç›® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaå·¥å…·è¯­æ³•</title>
      <link href="/2022/10/16/java%E5%B7%A5%E5%85%B7%E8%AF%AD%E6%B3%95/"/>
      <url>/2022/10/16/java%E5%B7%A5%E5%85%B7%E8%AF%AD%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="Javaå·¥å…·çš„è¯­æ³•"><a href="#Javaå·¥å…·çš„è¯­æ³•" class="headerlink" title="Javaå·¥å…·çš„è¯­æ³•"></a>Javaå·¥å…·çš„è¯­æ³•</h1><h2 id="1-è¾“å…¥-x2F-è¾“å‡º"><a href="#1-è¾“å…¥-x2F-è¾“å‡º" class="headerlink" title="1.è¾“å…¥&#x2F;è¾“å‡º"></a>1.è¾“å…¥&#x2F;è¾“å‡º</h2><h3 id="å¿«é€Ÿè¾“å…¥"><a href="#å¿«é€Ÿè¾“å…¥" class="headerlink" title="å¿«é€Ÿè¾“å…¥"></a>å¿«é€Ÿè¾“å…¥</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in));</span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> br.readLine();</span><br></pre></td></tr></table></figure><h3 id="å¿«é€Ÿè¾“å‡º"><a href="#å¿«é€Ÿè¾“å‡º" class="headerlink" title="å¿«é€Ÿè¾“å‡º"></a>å¿«é€Ÿè¾“å‡º</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(System.out));</span><br><span class="line">bw.write(str);</span><br><span class="line">bw.flush();</span><br></pre></td></tr></table></figure><h2 id="2-æ ˆçš„æ“ä½œ"><a href="#2-æ ˆçš„æ“ä½œ" class="headerlink" title="2.æ ˆçš„æ“ä½œ"></a>2.æ ˆçš„æ“ä½œ</h2><table><thead><tr><th>æ–¹æ³•</th><th>ç±»å‹</th><th>æ–¹æ³•æè¿°</th></tr></thead><tbody><tr><td>empty()</td><td>boolean</td><td>æµ‹è¯•å †æ ˆæ˜¯å¦ä¸ºç©º</td></tr><tr><td>push(E item)</td><td>E</td><td>æŠŠé¡¹å‹å…¥å †æ ˆé¡¶éƒ¨</td></tr><tr><td>pop()</td><td>E</td><td>ç§»é™¤å †æ ˆé¡¶éƒ¨çš„å¯¹è±¡ï¼Œå¹¶ä½œä¸ºæ­¤å‡½æ•°çš„å€¼è¿”å›è¯¥å¯¹è±¡</td></tr><tr><td>peek()</td><td>E</td><td>æŸ¥çœ‹å †æ ˆé¡¶éƒ¨çš„å¯¹è±¡ï¼Œä½†ä¸ä»å †æ ˆä¸­ç§»é™¤å®ƒ</td></tr><tr><td>search(Object o)</td><td>int</td><td>è¿”å›å¯¹è±¡å†å †æ ˆä¸­çš„ä½ç½®ï¼Œä»¥1ä¸ºåŸºæ•°</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–stacké•¿åº¦</span></span><br><span class="line">size()</span><br><span class="line"><span class="comment">//ä¸‹æ ‡å¤„æ·»åŠ </span></span><br><span class="line">add(<span class="type">int</span> index, E element)</span><br><span class="line"><span class="comment">//æ·»åŠ é›†åˆ</span></span><br><span class="line">addAll(Collection&lt;? <span class="keyword">extends</span> <span class="title class_">E</span>&gt; c)</span><br><span class="line"><span class="comment">//ç§»é™¤å¯¹è±¡</span></span><br><span class="line">remove(Object obj)</span><br><span class="line"><span class="comment">//æ ¹æ®ä¸‹æ ‡ç§»é™¤å¯¹è±¡</span></span><br><span class="line">remove(<span class="type">int</span> index)</span><br><span class="line"><span class="comment">//æ¸…ç©º</span></span><br><span class="line">clear()</span><br></pre></td></tr></table></figure><h2 id="3-å†™ç®—æ³•é¢˜æ ‡å‡†æ¨¡æ¿"><a href="#3-å†™ç®—æ³•é¢˜æ ‡å‡†æ¨¡æ¿" class="headerlink" title="3.å†™ç®—æ³•é¢˜æ ‡å‡†æ¨¡æ¿"></a>3.å†™ç®—æ³•é¢˜æ ‡å‡†æ¨¡æ¿</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">QuickRead</span> <span class="variable">qr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">QuickRead</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">T</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="comment">//        T = qr.nextInt();</span></span><br><span class="line">        <span class="keyword">for</span> (; T &gt; <span class="number">0</span>; T --) solve();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123; <span class="comment">// Let&#x27;s Go</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">QuickRead</span> &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in));</span><br><span class="line">        <span class="type">StringTokenizer</span> <span class="variable">tokenizer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringTokenizer</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">            <span class="keyword">while</span> (tokenizer == <span class="literal">null</span> || !tokenizer.hasMoreElements()) &#123;</span><br><span class="line">                tokenizer = <span class="keyword">new</span> <span class="title class_">StringTokenizer</span>(reader.readLine());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">next</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">            <span class="keyword">if</span> (hasNext()) <span class="keyword">return</span> tokenizer.nextToken();</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">nextLine</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">            <span class="keyword">return</span> reader.readLine();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">char</span> <span class="title function_">nextChar</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">            <span class="keyword">return</span> next().charAt(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">nextInt</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">            <span class="keyword">return</span> Integer.parseInt(next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">nextLong</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">            <span class="keyword">return</span> Long.parseLong(next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">nextDouble</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">            <span class="keyword">return</span> Double.parseDouble(next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> BigInteger <span class="title function_">nextBigInteger</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> BigDecimal <span class="title function_">nextBigDecimal</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡½æ•°çš„å›¾åƒï¼ˆä¸­ï¼‰</title>
      <link href="/2022/09/12/%E5%87%BD%E6%95%B0%E7%9A%84%E5%9B%BE%E5%83%8F%EF%BC%88%E4%B8%AD%EF%BC%89/"/>
      <url>/2022/09/12/%E5%87%BD%E6%95%B0%E7%9A%84%E5%9B%BE%E5%83%8F%EF%BC%88%E4%B8%AD%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<ul><li><p>ä¸‰è§’å‡½æ•°tipï¼š</p><p><img src="https://laukun-1313741272.cos.ap-guangzhou.myqcloud.com/Blog/7D75B82FCDED707D17E05299B27E9889.png"></p><blockquote><p>å¸¦ç»å¯¹å€¼çš„å‡½æ•°ä¼˜å…ˆè€ƒè™‘å‡½æ•°å›¾åƒ</p></blockquote></li><li><p>è¯æ˜f(x)&#x3D;å¸¸æ•°c</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.æ±‚å¯¼fâ€˜(x)=0 </span><br><span class="line"></span><br><span class="line">2.f(x0)=c</span><br></pre></td></tr></table></figure></li></ul><p>tip:ç”»å›¾è±¡å…ˆç®—ä¸¤ç«¯ç‚¹å†åˆ¤æ–­å¢å‡</p><ul><li><p>å–æ•´å‡½æ•° y&#x3D;[x], ä¸è¶…è¿‡xçš„æœ€å¤§æ•´æ•°</p><p>å®šä¹‰åŸŸï¼šR</p><p>å€¼åŸŸï¼šZ</p></li></ul><p><img src="https://laukun-1313741272.cos.ap-guangzhou.myqcloud.com/Blog/V(ENR56R@%7B%7DWPE($KMHAG~H.png"></p><ul><li><p>Tip:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Tip: X~n+1~ = sinX~n~ &lt; X~n~ (X~n~&gt;0)</span><br><span class="line">=&gt; &#123;X~n~&#125; å•è°ƒé€’å‡</span><br></pre></td></tr></table></figure><blockquote><p>ç”±æ•°åˆ—çš„å‡½æ•°è¡¨è¾¾å¼åˆ¤æ–­å¢å‡æ€§æ–¹æ³•:</p><ul><li>10ä¸ªå¸¸è§ä¸ç­‰å¼</li><li>æ±‚å¯¼</li></ul></blockquote></li><li><p>Tip: ä¸ç­‰å¼æ•æ„Ÿï¼še^x^ &gt;&#x3D; x + 1</p><p>æ•æ„Ÿå˜é‡ï¼še^x^ï¼Œ  x</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> é«˜æ•° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è€ƒç ” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆè¯•çº¿æ®µæ ‘</title>
      <link href="/2021/06/18/%E7%AE%80%E5%8D%95%E7%9A%84%E6%95%B4%E6%95%B0%E9%97%AE%E9%A2%98-%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
      <url>/2021/06/18/%E7%AE%80%E5%8D%95%E7%9A%84%E6%95%B4%E6%95%B0%E9%97%AE%E9%A2%98-%E7%BA%BF%E6%AE%B5%E6%A0%91/</url>
      
        <content type="html"><![CDATA[<h3 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h3><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º N çš„æ•°åˆ— Aï¼Œä»¥åŠ M æ¡æŒ‡ä»¤ï¼Œæ¯æ¡æŒ‡ä»¤å¯èƒ½æ˜¯ä»¥ä¸‹ä¸¤ç§ä¹‹ä¸€ï¼š</p><ol><li><code>C l r d</code>ï¼Œè¡¨ç¤ºæŠŠ A[l],A[l+1],â€¦,A[r]éƒ½åŠ ä¸Š dã€‚</li><li><code>Q l r</code>ï¼Œè¡¨ç¤ºè¯¢é—®æ•°åˆ—ä¸­ç¬¬ lâˆ¼rä¸ªæ•°çš„å’Œã€‚</li></ol><p>å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆè¾“å…¥æ ¼å¼</p><p>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•° N,Mã€‚</p><p>ç¬¬äºŒè¡Œ NN ä¸ªæ•´æ•° A[i]ã€‚</p><p>æ¥ä¸‹æ¥ M è¡Œè¡¨ç¤º Mæ¡æŒ‡ä»¤ï¼Œæ¯æ¡æŒ‡ä»¤çš„æ ¼å¼å¦‚é¢˜ç›®æè¿°æ‰€ç¤ºã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆã€‚</p><p>æ¯ä¸ªç­”æ¡ˆå ä¸€è¡Œã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>1â‰¤N,Mâ‰¤$10^5$<br>|d|â‰¤10000<br>|A[i]|â‰¤ $10^9$ </p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">10 5</span><br><span class="line">1 2 3 4 5 6 7 8 9 10</span><br><span class="line">Q 4 4</span><br><span class="line">Q 1 10</span><br><span class="line">Q 2 4</span><br><span class="line">C 3 6 3</span><br><span class="line">Q 2 4</span><br></pre></td></tr></table></figure><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">55</span><br><span class="line">9</span><br><span class="line">15</span><br></pre></td></tr></table></figure><hr><p>åˆ†æï¼š</p><p>é¢˜ç›®æ¶‰åŠåŒºé—´ä¿®æ”¹å’ŒåŒºé—´æŸ¥è¯¢ï¼Œåˆ†ææ•°æ®èŒƒå›´ä¸èƒ½æš´åŠ›ï¼Œç¬¦åˆçº¿æ®µæ ‘çš„ç”¨æ³•ï¼›<br>ä¸€æ—¦æ¶‰åŠåŒºé—´ä¿®æ”¹çº¿æ®µæ ‘å°±è¦ç”¨åˆ°æ‡’æ ‡è®°ï¼›</p><h2 id="é—®ï¼šä»€ä¹ˆæ˜¯æ‡’æ ‡è®°ï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"><a href="#é—®ï¼šä»€ä¹ˆæ˜¯æ‡’æ ‡è®°ï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ" class="headerlink" title="é—®ï¼šä»€ä¹ˆæ˜¯æ‡’æ ‡è®°ï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"></a>é—®ï¼šä»€ä¹ˆæ˜¯æ‡’æ ‡è®°ï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><blockquote><p>æ‡’æ ‡è®°å°±æ˜¯ç”¨æ¥è®°å½•è¦è¦å¯¹æŸä¸€åŒºé—´è¿›è¡Œçš„ä¿®æ”¹ï¼Œtr[u].addå°±æ˜¯uåŒºé—´çš„æ‡’æ ‡è®°ï¼Œå®ƒæ ‡å¿—ç€uåŒºé—´çš„æ¯ä¸€ä¸ªç‚¹éƒ½è¦åŠ ä¸Šaddï¼Œä½†æ˜¯å…ˆä¸ç›´æ¥åŠ ä¸Šå»ï¼Œå¦åˆ™å¤æ‚åº¦å°±ä¼šå¤§å¤§æé«˜ï¼Œå°±ä½“ç°ä¸å‡ºçº¿æ®µæ ‘çš„ä¼˜åŠ¿æ‰€åœ¨ï¼Œè¦æŸ¥è¯¢æˆ–è€…ä¿®æ”¹å¸¦æœ‰æ‡’æ ‡è®°çš„ç‚¹çš„å„¿å­æ—¶ï¼Œæ‡’æ ‡è®°å°±ä¼šä½¿ç”¨å¯¹ç”¨pushdownæ“ä½œæŠŠè¦ä¿®æ”¹çš„æ“ä½œåˆ†é…ä¸‹å»</p></blockquote><h2 id="é—®ï¼šä»€ä¹ˆæ—¶å€™è¿›è¡Œpushdownæ“ä½œï¼Ÿä¸ºä»€ä¹ˆè¦è¿›è¡Œpushdownæ“ä½œï¼Ÿ"><a href="#é—®ï¼šä»€ä¹ˆæ—¶å€™è¿›è¡Œpushdownæ“ä½œï¼Ÿä¸ºä»€ä¹ˆè¦è¿›è¡Œpushdownæ“ä½œï¼Ÿ" class="headerlink" title="é—®ï¼šä»€ä¹ˆæ—¶å€™è¿›è¡Œpushdownæ“ä½œï¼Ÿä¸ºä»€ä¹ˆè¦è¿›è¡Œpushdownæ“ä½œï¼Ÿ"></a>é—®ï¼šä»€ä¹ˆæ—¶å€™è¿›è¡Œpushdownæ“ä½œï¼Ÿä¸ºä»€ä¹ˆè¦è¿›è¡Œpushdownæ“ä½œï¼Ÿ</h2><blockquote><p>å¸¦æ‡’æ ‡è®°èŠ‚ç‚¹å°±åƒæ˜¯çˆ¶äº²ï¼Œaddæ˜¯çˆ·çˆ·å‘ç»™å­™å­çš„å‹å²é’±ï¼Œå½“éœ€è¦è®¡ç®—å„¿å­å‹å²é’±ï¼ˆæŸ¥è¯¢åˆ°å¸¦æ‡’æ ‡è®°çš„å„¿å­æ—¶ï¼‰æˆ–è€…åˆæœ‰æ–°çš„ä¸€ç¬”é’±è¦ç»™å­™å­æ—¶ï¼ˆä¿®æ”¹æ“ä½œï¼‰ï¼Œçˆ¶äº²å°±éœ€è¦å…ˆæŠŠè¿™ç¬”é’±åˆ†å‘ç»™å„¿å­æ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ<br>æŸ¥è¯¢çš„åˆ°ä¸‹é¢å„¿å­çš„æ—¶å€™éœ€è¦ç®—ä¸Šæœ¬å±äºå„¿å­çš„æ‡’æ ‡è®°çš„å€¼ï¼Œæ‰€ä»¥queryæ—¶éœ€è¦è¿›è¡Œpushdownæ“ä½œæ— å®¹ç½®ç–‘<br>ä¿®æ”¹æ“ä½œæ—¶æ‡’æ ‡è®°æ—¶ä¸€ä¸ªåŒºé—´çš„æ“ä½œï¼Œè¦æ”¹å˜å°±éœ€è¦å¸¦ç€ä¸€ä¸ªåŒºé—´ä¸€å—æ”¹å˜ï¼Œå¦‚æœä¸€ä¸ªæ–°çš„ä¿®æ”¹æ‰§è¡Œpushdownæ²¡æœ‰æ‰§è¡Œï¼Œå°±æ˜¯æœ¬æ¥å› è¯¥ç»™å„¿å­çš„è¿˜æ²¡æœ‰ç»™ã€‚å›æº¯æ—¶pushupæ“ä½œå°±ä¼šæ‹¿ç€é”™è¯¯çš„å€¼å»è®¡ç®—çˆ¶èŠ‚ç‚¹ï¼Œå¯¼è‡´ç»“æœå‡ºé”™ï¼</p></blockquote><p>è¯ä¸å¤šè¯´ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, w[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    LL sum, add;</span><br><span class="line">&#125;tr[N * <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pushdown</span><span class="params">(<span class="type">int</span> u)</span></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> &amp;root = tr[u], &amp;left = tr[u &lt;&lt; <span class="number">1</span>], &amp;right = tr[u &lt;&lt; <span class="number">1</span> | <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span>(root.add)&#123;</span><br><span class="line">        left.add += root.add, left.sum += (left.r - left.l + <span class="number">1</span>) * root.add;</span><br><span class="line">        right.add += root.add, right.sum += (right.r - right.l + <span class="number">1</span>) * root.add;</span><br><span class="line">        root.add = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pushup</span><span class="params">(<span class="type">int</span> u)</span></span>&#123;</span><br><span class="line">    tr[u].sum = (LL)tr[u &lt;&lt; <span class="number">1</span>].sum + tr[u &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l == r) tr[u] = &#123;l, r, w[l], <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        tr[u] = &#123;l, r&#125;;</span><br><span class="line">        <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">build</span>(u &lt;&lt; <span class="number">1</span>, l, mid), <span class="built_in">build</span>(u &lt;&lt; <span class="number">1</span> | <span class="number">1</span>, mid + <span class="number">1</span>, r);</span><br><span class="line">        <span class="built_in">pushup</span>(u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">modify</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(tr[u].l &gt;= l &amp;&amp; tr[u].r &lt;= r)&#123; </span><br><span class="line"><span class="comment">//åŒºé—´ä¿®æ”¹å¦‚æœæ‰¾åˆ°å®Œå…¨åœ¨è¦ä¿®æ”¹çš„åŒºé—´å†…çš„å­åŒºé—´ï¼Œå°±ç›´æ¥åŠ åˆ°æ‡’æ ‡è®°ä¸Šé¢ï¼Œå°±ä»£è¡¨ç€è¿™ä¸ªåŒºé—´çš„æ¯ä¸€ä¸ªå€¼éƒ½è¦è¿™æ ·ä¿®æ”¹</span></span><br><span class="line">         tr[u].sum += (LL)(tr[u].r - tr[u].l + <span class="number">1</span>) * v;</span><br><span class="line">         tr[u].add += (LL)v;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">else</span>&#123;</span><br><span class="line">         <span class="built_in">pushdown</span>(u); <span class="comment">//æ­¤å¤„åˆ†è£‚ï¼Œä¿®æ”¹åˆ°äº†å¯èƒ½å¸¦æ‡’æ ‡è®°çš„å„¿å­ï¼Œè¦è¿›è¡Œpushdownæ“ä½œ</span></span><br><span class="line">         <span class="type">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">         <span class="keyword">if</span>(l &lt;= mid) <span class="built_in">modify</span>(u &lt;&lt; <span class="number">1</span>, l, r, v);</span><br><span class="line">         <span class="keyword">if</span>(r &gt; mid) <span class="built_in">modify</span>(u &lt;&lt; <span class="number">1</span> | <span class="number">1</span>, l, r, v);</span><br><span class="line">         <span class="built_in">pushup</span>(u); <span class="comment">//å›æº¯ç”¨ä¿®æ”¹åçš„å„¿å­æ›´æ–°çˆ¶äº²çš„åŒºé—´å’Œ</span></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">query</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> l, <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(tr[u].l &gt;= l &amp;&amp; tr[u].r &lt;= r) <span class="keyword">return</span> tr[u].sum;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">pushdown</span>(u);  <span class="comment">//æŸ¥è¯¢åˆ°äº†å¯èƒ½å¸¦æ‡’æ ‡è®°çš„çˆ¶äº²çš„å„¿å­</span></span><br><span class="line">        <span class="type">int</span> mid = tr[u].l + tr[u].r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        LL sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(l &lt;= mid) sum = <span class="built_in">query</span>(u &lt;&lt; <span class="number">1</span>, l, r);</span><br><span class="line">        <span class="keyword">if</span>(r &gt; mid) sum += <span class="built_in">query</span>(u &lt;&lt; <span class="number">1</span> | <span class="number">1</span>, l, r);</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ ) <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>, &amp;w[i]);</span><br><span class="line">    <span class="built_in">build</span>(<span class="number">1</span>, <span class="number">1</span>, n);</span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> op[<span class="number">2</span>];</span><br><span class="line">    <span class="type">int</span> l, r;</span><br><span class="line">    LL d;</span><br><span class="line">    <span class="keyword">while</span>(m -- )&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s%d%d&quot;</span>, &amp;op, &amp;l, &amp;r);</span><br><span class="line">        <span class="keyword">if</span>(*op == <span class="string">&#x27;Q&#x27;</span>)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>, <span class="built_in">query</span>(<span class="number">1</span>, l, r));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>, &amp;d);</span><br><span class="line">            <span class="built_in">modify</span>(<span class="number">1</span>, l, r, d);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>KMPå­—ç¬¦ä¸²</title>
      <link href="/2021/05/18/KMP%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
      <url>/2021/05/18/KMP%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€ä»€ä¹ˆæ˜¯KMPç®—æ³•åŠä¸€äº›åŸºæœ¬æ¦‚å¿µ"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯KMPç®—æ³•åŠä¸€äº›åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯KMPç®—æ³•åŠä¸€äº›åŸºæœ¬æ¦‚å¿µ"></a>ä¸€ã€ä»€ä¹ˆæ˜¯KMPç®—æ³•åŠä¸€äº›åŸºæœ¬æ¦‚å¿µ</h2><p>é¦–å…ˆï¼Œä»€ä¹ˆæ˜¯KMPç®—æ³•ã€‚è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œå¯¹æš´åŠ›çš„é‚£ç§ä¸€ä¸€æ¯”å¯¹çš„æ–¹æ³•è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä½¿æ—¶é—´å¤æ‚åº¦å¤§å¤§é™ä½ï¼ˆæˆ‘ä¸ä¼šç®—æ—¶é—´å¤æ‚åº¦ã€‚ã€‚ã€‚ï¼Œç›®å‰ä¹Ÿåªèƒ½è¿™ä¹ˆç†è§£ï¼Œè¿˜æœ‰KMPæ˜¯å–çš„ä¸‰ä¸ªå‘æ˜äººçš„åå­—é¦–å­—æ¯ç»„æˆçš„åå­—ï¼‰ã€‚</p><p> ç„¶åæ˜¯ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼š</p><blockquote><p>1ã€s[ ]æ˜¯æ¨¡å¼ä¸²ï¼Œå³æ¯”è¾ƒé•¿çš„å­—ç¬¦ä¸²ã€‚<br>2ã€p[ ]æ˜¯æ¨¡æ¿ä¸²ï¼Œå³æ¯”è¾ƒçŸ­çš„å­—ç¬¦ä¸²ã€‚ï¼ˆè¿™æ ·å¯èƒ½ä¸ä¸¥è°¨ã€‚ã€‚ã€‚ï¼‰<br>3ã€â€œéå¹³å‡¡å‰ç¼€â€ï¼šæŒ‡é™¤äº†æœ€åä¸€ä¸ªå­—ç¬¦ä»¥å¤–ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²çš„å…¨éƒ¨å¤´éƒ¨ç»„åˆã€‚<br>4ã€â€œéå¹³å‡¡åç¼€â€ï¼šæŒ‡é™¤äº†ç¬¬ä¸€ä¸ªå­—ç¬¦ä»¥å¤–ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²çš„å…¨éƒ¨å°¾éƒ¨ç»„åˆã€‚ï¼ˆåé¢ä¼šæœ‰ä¾‹å­ï¼Œå‡ç®€ç§°ä¸ºå‰&#x2F;åç¼€ï¼‰<br>5ã€â€œéƒ¨åˆ†åŒ¹é…å€¼â€ï¼šå‰ç¼€å’Œåç¼€çš„æœ€é•¿å…±æœ‰å…ƒç´ çš„é•¿åº¦ã€‚<br>6ã€next[ ]æ˜¯â€œéƒ¨åˆ†åŒ¹é…å€¼è¡¨â€ï¼Œå³nextæ•°ç»„ï¼Œå®ƒå­˜å‚¨çš„æ˜¯æ¯ä¸€ä¸ªä¸‹æ ‡å¯¹åº”çš„â€œéƒ¨åˆ†åŒ¹é…å€¼â€ï¼Œæ˜¯KMPç®—æ³•çš„æ ¸å¿ƒã€‚ï¼ˆåé¢ä½œè¯¦ç»†è®²è§£ï¼‰ã€‚</p></blockquote><p>æ ¸å¿ƒæ€æƒ³ ï¼š åœ¨æ¯æ¬¡å¤±é…æ—¶ï¼Œä¸æ˜¯æŠŠpä¸²å¾€åç§»ä¸€ä½ï¼Œè€Œæ˜¯æŠŠpä¸²å¾€åç§»åŠ¨è‡³ä¸‹ä¸€æ¬¡å¯ä»¥å’Œå‰é¢éƒ¨åˆ†åŒ¹é…çš„ä½ç½®ï¼Œè¿™æ ·å°±å¯ä»¥è·³è¿‡å¤§å¤šæ•°çš„å¤±é…æ­¥éª¤ã€‚è€Œæ¯æ¬¡pä¸²ç§»åŠ¨çš„æ­¥æ•°å°±æ˜¯é€šè¿‡æŸ¥æ‰¾next[ ]æ•°ç»„ç¡®å®šçš„ã€‚</p><h3 id="äºŒã€nextæ•°ç»„çš„å«ä¹‰åŠæ‰‹åŠ¨æ¨¡æ‹Ÿï¼ˆå…·ä½“æ±‚æ³•å’Œä»£ç åœ¨åé¢ï¼‰"><a href="#äºŒã€nextæ•°ç»„çš„å«ä¹‰åŠæ‰‹åŠ¨æ¨¡æ‹Ÿï¼ˆå…·ä½“æ±‚æ³•å’Œä»£ç åœ¨åé¢ï¼‰" class="headerlink" title="äºŒã€nextæ•°ç»„çš„å«ä¹‰åŠæ‰‹åŠ¨æ¨¡æ‹Ÿï¼ˆå…·ä½“æ±‚æ³•å’Œä»£ç åœ¨åé¢ï¼‰"></a>äºŒã€nextæ•°ç»„çš„å«ä¹‰åŠæ‰‹åŠ¨æ¨¡æ‹Ÿï¼ˆå…·ä½“æ±‚æ³•å’Œä»£ç åœ¨åé¢ï¼‰</h3><p> ç„¶åæ¥è¯´æ˜ä¸€ä¸‹nextæ•°ç»„çš„å«ä¹‰ï¼šå¯¹next[ j ] ï¼Œæ˜¯p[ 1, j ]ä¸²ä¸­å‰ç¼€å’Œåç¼€ç›¸åŒçš„æœ€å¤§é•¿åº¦ï¼ˆéƒ¨åˆ†åŒ¹é…å€¼ï¼‰ï¼Œå³ p[ 1, next[ j ] ] &#x3D; p[ j - next[ j ] + 1, j ]ã€‚</p><p><img src="https://cdn.acwing.com/media/article/image/2020/06/12/31041_6f934f82ac-next%E4%BE%8B%E5%AD%90.PNG"></p><hr><p>æ‰‹åŠ¨æ¨¡æ‹Ÿæ±‚nextæ•°ç»„ï¼š</p><p>å¯¹ p &#x3D; â€œabcabâ€</p><p><img src="https://laukun-1313741272.cos.ap-guangzhou.myqcloud.com/Blog/kmp.png"></p><p>å¯¹next[ 1 ] ï¼šå‰ç¼€ &#x3D; ç©ºé›†â€”â€”â€”â€”â€”åç¼€ &#x3D; ç©ºé›†â€”â€”â€”â€”â€”next[ 1 ] &#x3D; 0;</p><p>å¯¹next[ 2 ] ï¼šå‰ç¼€ &#x3D; { a }â€”â€”â€”â€”â€”åç¼€ &#x3D; { b }â€”â€”â€”â€”â€”next[ 2 ] &#x3D; 0;</p><p>å¯¹next[ 3 ] ï¼šå‰ç¼€ &#x3D; { a , ab }â€”â€”â€”â€”â€”åç¼€ &#x3D; { c , bc}â€”â€”â€”â€”â€”next[ 3 ] &#x3D; 0;</p><p>å¯¹next[ 4 ] ï¼šå‰ç¼€ &#x3D; { a , ab , abc }â€”â€”â€”â€”â€”åç¼€ &#x3D; { a . ca , bca }â€”â€”â€”â€”â€”next[ 4 ] &#x3D; 1;</p><p>å¯¹next[ 5 ] ï¼šå‰ç¼€ &#x3D; { a , ab , abc , abca }â€”â€”â€”â€”åç¼€ &#x3D; { b , ab , cab , bcab}â€”â€”â€”â€”next[ 5 ] &#x3D; 2;</p><hr><h3 id="ä¸‰ã€åŒ¹é…æ€è·¯å’Œå®ç°ä»£ç "><a href="#ä¸‰ã€åŒ¹é…æ€è·¯å’Œå®ç°ä»£ç " class="headerlink" title="ä¸‰ã€åŒ¹é…æ€è·¯å’Œå®ç°ä»£ç "></a>ä¸‰ã€åŒ¹é…æ€è·¯å’Œå®ç°ä»£ç </h3><p>KMPä¸»è¦åˆ†ä¸¤æ­¥ï¼šæ±‚nextæ•°ç»„ã€åŒ¹é…å­—ç¬¦ä¸²ã€‚ä¸ªäººè§‰å¾—åŒ¹é…æ“ä½œå®¹æ˜“æ‡‚ä¸€äº›ï¼Œç–‘æƒ‘æˆ‘ä¸€æ•´å¤©çš„æ˜¯æ±‚nextæ•°ç»„çš„æ€æƒ³ã€‚æ‰€ä»¥å…ˆæŠŠåŒ¹é…å­—ç¬¦ä¸²è®²ä¸€ä¸‹ã€‚</p><p> sä¸² å’Œ pä¸²éƒ½æ˜¯ä»1å¼€å§‹çš„ã€‚i ä»1å¼€å§‹ï¼Œj ä»0å¼€å§‹ï¼Œæ¯æ¬¡s[ i ] å’Œp[ j + 1 ]æ¯”è¾ƒ</p><p>å…¶ä¸­1ä¸²ä¸º[ 1, next[ j ] ]ï¼Œ3ä¸²ä¸º[ j - next[ j ] + 1 , j ]ã€‚ç”±åŒ¹é…å¯çŸ¥ 1ä¸²ç­‰äº3ä¸²ï¼Œ3ä¸²ç­‰äº2ä¸²ã€‚æ‰€ä»¥ç›´æ¥ç§»åŠ¨pä¸²ä½¿1åˆ°3çš„ä½ç½®å³å¯ã€‚è¿™ä¸ªæ“ä½œå¯ç”±j &#x3D; next[ j ]ç›´æ¥å®Œæˆã€‚ å¦‚æ­¤å¾€å¤ä¸‹å»ï¼Œå½“ j &#x3D;&#x3D; mæ—¶åŒ¹é…æˆåŠŸã€‚</p><hr><h3 id="ä»£ç å¦‚ä¸‹ï¼š"><a href="#ä»£ç å¦‚ä¸‹ï¼š" class="headerlink" title="ä»£ç å¦‚ä¸‹ï¼š"></a>ä»£ç å¦‚ä¸‹ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>, j = <span class="number">0</span>; i &lt;= n; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span>(j &amp;&amp; s[i] != p[j+<span class="number">1</span>]) j = ne[j];</span><br><span class="line">    <span class="comment">//å¦‚æœjæœ‰å¯¹åº”pä¸²çš„å…ƒç´ ï¼Œ ä¸”s[i] != p[j+1], åˆ™å¤±é…ï¼Œ ç§»åŠ¨pä¸²</span></span><br><span class="line">    <span class="comment">//ç”¨whileæ˜¯ç”±äºç§»åŠ¨åå¯èƒ½ä»ç„¶å¤±é…ï¼Œæ‰€ä»¥è¦ç»§ç»­ç§»åŠ¨ç›´åˆ°åŒ¹é…æˆ–æ•´ä¸ªpä¸²ç§»åˆ°åé¢ï¼ˆj = 0)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(s[i] == p[j+<span class="number">1</span>]) j++;</span><br><span class="line">    <span class="comment">//å½“å‰å…ƒç´ åŒ¹é…ï¼Œjç§»å‘pä¸²ä¸‹ä¸€ä½</span></span><br><span class="line">    <span class="keyword">if</span>(j == m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//åŒ¹é…æˆåŠŸï¼Œè¿›è¡Œç›¸å…³æ“ä½œ</span></span><br><span class="line">        j = next[j];  <span class="comment">//ç»§ç»­åŒ¹é…ä¸‹ä¸€ä¸ªå­ä¸²</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å››ã€æ±‚nextæ•°ç»„çš„æ€è·¯å’Œå®ç°ä»£ç "><a href="#å››ã€æ±‚nextæ•°ç»„çš„æ€è·¯å’Œå®ç°ä»£ç " class="headerlink" title="å››ã€æ±‚nextæ•°ç»„çš„æ€è·¯å’Œå®ç°ä»£ç "></a>å››ã€æ±‚nextæ•°ç»„çš„æ€è·¯å’Œå®ç°ä»£ç </h3><p>nextæ•°ç»„çš„æ±‚æ³•æ˜¯é€šè¿‡æ¨¡æ¿ä¸²è‡ªå·±ä¸è‡ªå·±è¿›è¡ŒåŒ¹é…æ“ä½œå¾—å‡ºæ¥çš„ï¼ˆä»£ç å’ŒåŒ¹é…æ“ä½œå‡ ä¹ä¸€æ ·ï¼‰ã€‚</p><h3 id="ä»£ç å¦‚ä¸‹ï¼š-1"><a href="#ä»£ç å¦‚ä¸‹ï¼š-1" class="headerlink" title="ä»£ç å¦‚ä¸‹ï¼š"></a>ä»£ç å¦‚ä¸‹ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>, j = <span class="number">0</span>; i &lt;= m; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span>(j &amp;&amp; p[i] != p[j+<span class="number">1</span>]) j = next[j];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(p[i] == p[j+<span class="number">1</span>]) j++;</span><br><span class="line"></span><br><span class="line">    next[i] = j;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç å’ŒåŒ¹é…æ“ä½œçš„ä»£ç å‡ ä¹ä¸€æ ·ï¼Œå…³é”®åœ¨äºæ¯æ¬¡ç§»åŠ¨ i å‰ï¼Œå°† i å‰é¢å·²ç»åŒ¹é…çš„é•¿åº¦è®°å½•åˆ°nextæ•°ç»„ä¸­ã€‚</p><h2 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">100010</span>, M = <span class="number">10010</span>; <span class="comment">//Nä¸ºæ¨¡å¼ä¸²é•¿åº¦ï¼ŒMåŒ¹é…ä¸²é•¿åº¦</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> ne[M]; <span class="comment">//next[]æ•°ç»„ï¼Œé¿å…å’Œå¤´æ–‡ä»¶nextå†²çª</span></span><br><span class="line"><span class="type">char</span> s[N], p[M];  <span class="comment">//sä¸ºæ¨¡å¼ä¸²ï¼Œ pä¸ºåŒ¹é…ä¸²</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; s+<span class="number">1</span> &gt;&gt; m &gt;&gt; p+<span class="number">1</span>;  <span class="comment">//ä¸‹æ ‡ä»1å¼€å§‹</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ±‚next[]æ•°ç»„</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>, j = <span class="number">0</span>; i &lt;= m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(j &amp;&amp; p[i] != p[j+<span class="number">1</span>]) j = ne[j];</span><br><span class="line">        <span class="keyword">if</span>(p[i] == p[j+<span class="number">1</span>]) j++;</span><br><span class="line">        ne[i] = j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åŒ¹é…æ“ä½œ</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>, j = <span class="number">0</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(j &amp;&amp; s[i] != p[j+<span class="number">1</span>]) j = ne[j];</span><br><span class="line">        <span class="keyword">if</span>(s[i] == p[j+<span class="number">1</span>]) j++;</span><br><span class="line">        <span class="keyword">if</span>(j == m)  <span class="comment">//æ»¡è¶³åŒ¹é…æ¡ä»¶ï¼Œæ‰“å°å¼€å¤´ä¸‹æ ‡, ä»0å¼€å§‹</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//åŒ¹é…å®Œæˆåçš„å…·ä½“æ“ä½œ</span></span><br><span class="line">            <span class="comment">//å¦‚ï¼šè¾“å‡ºä»¥0å¼€å§‹çš„åŒ¹é…å­ä¸²çš„é¦–å­—æ¯ä¸‹æ ‡</span></span><br><span class="line">            <span class="comment">//printf(&quot;%d &quot;, i - m); (è‹¥ä»1å¼€å§‹ï¼ŒåŠ 1)</span></span><br><span class="line">            j = ne[j];            <span class="comment">//å†æ¬¡ç»§ç»­åŒ¹é…</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸‡èƒ½ç¥å™¨-äºŒåˆ†æ³•</title>
      <link href="/2021/05/12/%E4%BA%8C%E5%88%86/"/>
      <url>/2021/05/12/%E4%BA%8C%E5%88%86/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¾‹é¢˜ï¼š"><a href="#ä¾‹é¢˜ï¼š" class="headerlink" title="ä¾‹é¢˜ï¼š"></a>ä¾‹é¢˜ï¼š</h3><p>ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„é•¿åº¦ä¸ºnçš„æ•´æ•°æ•°ç»„ï¼Œä»¥åŠ q ä¸ªæŸ¥è¯¢ã€‚<br>å¯¹äºæ¯ä¸ªæŸ¥è¯¢ï¼Œè¿”å›ä¸€ä¸ªå…ƒç´ kçš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ï¼ˆä½ç½®ä»0å¼€å§‹è®¡æ•°ï¼‰ã€‚<br>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™è¿”å›â€œ-1 -1â€ã€‚<br>è¾“å…¥æ ¼å¼<br>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•°nå’Œqï¼Œè¡¨ç¤ºæ•°ç»„é•¿åº¦å’Œè¯¢é—®ä¸ªæ•°ã€‚<br>ç¬¬äºŒè¡ŒåŒ…å«nä¸ªæ•´æ•°ï¼ˆå‡åœ¨1~10000èŒƒå›´å†…ï¼‰ï¼Œè¡¨ç¤ºå®Œæ•´æ•°ç»„ã€‚<br>æ¥ä¸‹æ¥qè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°kï¼Œè¡¨ç¤ºä¸€ä¸ªè¯¢é—®å…ƒç´ ã€‚<br>è¾“å‡ºæ ¼å¼<br>å…±qè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æ±‚å…ƒç´ çš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ã€‚<br>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™è¿”å›â€œ-1 -1â€ã€‚<br>æ•°æ®èŒƒå›´<br>1â‰¤nâ‰¤100000<br>1â‰¤nâ‰¤100000</p><p>1â‰¤qâ‰¤10000<br>1â‰¤qâ‰¤10000</p><p>1â‰¤kâ‰¤10000<br>1â‰¤kâ‰¤10000</p><h2 id="æ ·ä¾‹"><a href="#æ ·ä¾‹" class="headerlink" title="æ ·ä¾‹"></a>æ ·ä¾‹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥æ ·ä¾‹ï¼š</span><br><span class="line">6 3</span><br><span class="line">1 2 2 3 3 4</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">è¾“å‡ºæ ·ä¾‹ï¼š</span><br><span class="line">3 4</span><br><span class="line">5 5</span><br><span class="line">-1 -1</span><br></pre></td></tr></table></figure><hr><p>åˆ†æï¼š</p><p>æœ¬é¢˜æ˜¯ç»ƒä¹ äºŒåˆ†å¾ˆå¥½çš„ä¸€é“é¢˜ç›®ï¼ŒäºŒåˆ†ç¨‹åºè™½ç„¶ç®€å•ï¼Œä½†æ˜¯å¦‚æœå†™ä¹‹å‰ä¸è€ƒè™‘å¥½æƒ³è¦æŸ¥æ‰¾çš„æ˜¯ä»€ä¹ˆï¼Œåæœ‰å…«ä¹ä¼šæ˜¯æ­»å¾ªç¯æˆ–è€…æŸ¥æ‰¾é”™è¯¯ï¼Œå°±ç®—ä¾¥å¹¸å†™å¯¹äº†ä¹Ÿåªæ˜¯è¿æ°”å¥½è€Œå·²ã€‚ç”¨äºŒåˆ†å»æŸ¥æ‰¾å…ƒç´ è¦æ±‚æ•°ç»„çš„æœ‰åºæ€§æˆ–è€…æ‹¥æœ‰ç±»ä¼¼äºæœ‰åºçš„æ€§è´¨ï¼Œå¯¹æœ¬é¢˜è€Œè¨€ï¼Œä¸€ä¸ªåŒ…å«é‡å¤å…ƒç´ çš„æœ‰åºåºåˆ—ï¼Œè¦æ±‚è¾“å‡ºæŸå…ƒç´ å‡ºç°çš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ï¼Œç¿»è¯‘ä¸€ä¸‹å°±æ˜¯ï¼šåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾æŸå…ƒç´ ï¼Œæ‰¾ä¸åˆ°å°±è¾“å‡º-1ï¼Œæ‰¾åˆ°äº†å°±è¾“å‡ºä¸å°äºè¯¥å…ƒç´ çš„æœ€å°ä½ç½®å’Œä¸å¤§äºè¯¥å…ƒç´ çš„æœ€å¤§ä½ç½®ã€‚æ‰€ä»¥ï¼Œéœ€è¦å†™ä¸¤ä¸ªäºŒåˆ†ï¼Œä¸€ä¸ªéœ€è¦æ‰¾åˆ°&gt;&#x3D;xçš„ç¬¬ä¸€ä¸ªæ•°ï¼Œå¦ä¸€ä¸ªéœ€è¦æ‰¾åˆ°&lt;&#x3D;xçš„æœ€åä¸€ä¸ªæ•°ã€‚æŸ¥æ‰¾ä¸å°äºxçš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè¾ƒä¸ºç®€å•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> l = <span class="number">0</span>, r = n - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">    <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (a[mid] &lt; x)  l = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span>    r = mid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“a[mid]å°äºxæ—¶ï¼Œä»¤l &#x3D; mid + 1ï¼ŒmidåŠå…¶å·¦è¾¹çš„ä½ç½®è¢«æ’é™¤äº†ï¼Œå¯èƒ½å‡ºç°è§£çš„ä½ç½®æ˜¯mid + 1åŠå…¶åé¢çš„ä½ç½®ï¼›å½“a[mid] &gt;&#x3D; xæ—¶ï¼Œè¯´æ˜midåŠå…¶å·¦è¾¹å¯èƒ½å«æœ‰å€¼ä¸ºxçš„å…ƒç´ ï¼›å½“æŸ¥æ‰¾ç»“æŸæ—¶ï¼Œlä¸rç›¸é‡ï¼Œlæ‰€åœ¨å…ƒç´ è‹¥æ˜¯xåˆ™ä¸€å®šæ˜¯xå‡ºç°æœ€å°ä½ç½®ï¼Œå› ä¸ºlå·¦è¾¹çš„å…ƒç´ å¿…ç„¶éƒ½å°äºxã€‚æŸ¥æ‰¾ä¸å¤§äºxçš„æœ€åä¸€ä¸ªä½ç½®ï¼Œä¾¿ä¸å®¹æ˜“äº†ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> l1 = l, r1 = n;</span><br><span class="line"><span class="keyword">while</span> (l1 + <span class="number">1</span> &lt; r1) &#123;</span><br><span class="line">    <span class="type">int</span> mid = l1 + r1 &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (a[mid] &lt;= x)  l1 = mid;</span><br><span class="line">    <span class="keyword">else</span>    r1 = mid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¦æŸ¥æ‰¾ä¸å¤§äºxçš„æœ€åä¸€ä¸ªä½ç½®ï¼Œå½“a[mid] &lt;&#x3D; xæ—¶ï¼Œå¾…æŸ¥æ‰¾å…ƒç´ åªå¯èƒ½åœ¨midåŠå…¶åé¢ï¼Œæ‰€ä»¥l &#x3D; midï¼›å½“a[mid] &gt; xæ—¶ï¼Œå¾…æŸ¥æ‰¾å…ƒç´ åªä¼šåœ¨midå·¦è¾¹ï¼Œä»¤r &#x3D; midã€‚<br>ä¸ºä»€ä¹ˆä¸ä»¤r &#x3D; mid - 1å‘¢ï¼Ÿå› ä¸ºå¦‚æœæŒ‰ç…§ä¸Šä¸€ä¸ªäºŒåˆ†çš„å†™æ³•ï¼Œå¾ªç¯åˆ¤æ–­æ¡ä»¶è¿˜æ˜¯l &lt; r,å½“åªæœ‰ä¸¤ä¸ªå…ƒç´ æ¯”å¦‚2 2æ—¶ï¼ŒlæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒræŒ‡å‘ç¬¬äºŒä¸ªå…ƒç´ ï¼ŒmidæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œa[mid] &lt;&#x3D; xï¼Œl &#x3D; midè¿˜æ˜¯æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒæŒ‡é’ˆä¸ç§»åŠ¨äº†ï¼Œé™·å…¥æ­»å¾ªç¯äº†ï¼Œæ­¤åˆ»l + 1 &#x3D;&#x3D; rï¼Œæœªèƒ½é€€å‡ºå¾ªç¯ã€‚<br>é‚£ä¹ˆç›´æ¥æŠŠå¾ªç¯åˆ¤æ–­æ¡ä»¶æ”¹æˆl + 1 &lt; rå‘¢ï¼Ÿæ­¤æ—¶ä¸€æ—¦åªæœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œlå’Œrå·®1ï¼Œå¾ªç¯ä¾¿ä¸å†æ‰§è¡Œï¼ŒæŸ¥æ‰¾é”™è¯¯ã€‚<br>æ‰€ä»¥è¿™é‡Œå‡ºç°äº†äºŒåˆ†çš„å…¸å‹é”™è¯¯ï¼Œl &#x3D;&#x3D; rä½œä¸ºå¾ªç¯ç»ˆæ­¢æ¡ä»¶ï¼Œä¼šå‡ºç°æ­»å¾ªç¯ï¼Œl + 1 &#x3D;&#x3D; rä½œä¸ºå¾ªç¯ç»ˆæ­¢æ¡ä»¶ï¼Œä¼šå‡ºç°æŸ¥æ‰¾é”™è¯¯ã€‚<br>é—®é¢˜å¦‚ä½•è§£å†³ï¼Œä¸€ç§æ–¹æ³•å°±æ˜¯å°†æŸ¥æ‰¾çš„åŒºé—´è®¾ç½®ä¸ºå·¦é—­å³å¼€ï¼Œæ¯”å¦‚å¾…æŸ¥æ‰¾å…ƒç´ åœ¨[0,n - 1]èŒƒå›´å†…ï¼Œå¯ä»¥å†™æˆ[0,n)ï¼Œä»¤r &#x3D; nï¼Œè¿™æ—¶å€™åªæœ‰ä¸¤ä¸ªå…ƒç´ æ—¶ï¼Œræ˜¯å–æœ€å³è¾¹å…ƒç´ çš„åä¸€ä¸ªä½ç½®çš„ï¼Œlå’Œrç›¸å·®2ï¼Œè¿˜ä¼šæ‰§è¡Œå¾ªç¯ã€‚<br>ç°åœ¨å†æ¥ç†è§£ä¸Šä¸€æ®µçš„r1 &#x3D; midï¼Œè¯´æ˜a[mid] &gt; xæ—¶ï¼Œr &#x3D; midå°±è¡¨ç¤ºå¾…æŸ¥æ‰¾å…ƒç´ ä¼šæ˜¯åœ¨rçš„å·¦è¾¹ï¼Œå› ä¸ºræ˜¯å¼€åŒºé—´ã€‚ä¸Šé¢è¿™ç§å†™æ³•ä¿®æ”¹äº†å¾ªç¯æ¡ä»¶ä½¿å¾—äºŒåˆ†ä¸ä¼šæ­»å¾ªç¯ï¼Œä¿®æ”¹äº†åŒºé—´çš„å¼€é—­æ€§ä½¿å¾—ä¸ä¼šæŸ¥æ‰¾é”™è¯¯ã€‚å¦ä¸€ç§è§£å†³åŠæ³•å°±æ˜¯ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> l = <span class="number">0</span>, r = n - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (l &lt; r)</span><br><span class="line"> &#123;</span><br><span class="line">        <span class="type">int</span> mid = l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (a[mid] &lt;= x) l = mid;</span><br><span class="line">        <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>ä¸ä¿®æ”¹å¾ªç¯ç»ˆæ­¢æ¡ä»¶ï¼Œæƒ³åŠæ³•è§£å†³æ­»å¾ªç¯çš„é—®é¢˜ï¼Œé¦–å…ˆæƒ³ä¸‹ä¸ºä»€ä¹ˆæŸ¥æ‰¾ä¸å°äºxçš„ç¬¬ä¸€ä¸ªä½ç½®ä¸ä¼šæ­»å¾ªç¯ï¼Ÿå› ä¸ºè¿™æ—¶å°±ç®—åªæœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œl + 1 &#x3D; r,mid &#x3D; l,a[mid]å°äºxæ—¶læ˜¯ä¼š+1çš„ï¼Œä¸å°äºxæ—¶r &#x3D; midä¹Ÿä¼šç¼©å°åŒºé—´ã€‚<br>è€ŒæŸ¥æ‰¾ä¸å¤§äºxçš„æœ€åä¸€ä¸ªä½ç½®ä¹‹æ‰€ä»¥ä¼šæ­»å¾ªç¯æ˜¯å› ä¸ºç¼–ç¨‹è¯­è¨€é‡Œé¢é™¤ä»¥2çš„ä¸‹å–æ•´æ€§ï¼Œè¯•æƒ³ä¸‹å¦‚æœl + 1 &#x3D; ræ—¶ï¼Œmid &#x3D; ï¼ˆl + rï¼‰ &#x2F; 2 &#x3D; lï¼Œä¸€æ—¦a[mid] &lt;&#x3D; x,l &#x3D; mid &#x3D; lï¼ŒåŒºé—´å¹¶æ²¡æœ‰ç¼©å°ï¼Œä»è€Œé™·å…¥æ­»å¾ªç¯ï¼›å¦‚æœä¸€å¼€å§‹å–midä¸ºrï¼Œä¸€æ—¦a[mid] &lt;&#x3D; x,l &#x3D; mid &#x3D; r,åŒºé—´ç¼©å°ï¼Œå¦åˆ™r &#x3D; mid - 1 &#x3D; låŒºé—´ç¼©å°ï¼Œléƒ½ä¼šä¸rç›¸é‡ï¼Œå°±ä¸ä¼šé™·å…¥æ­»å¾ªç¯äº†ã€‚<br>å¦‚ä½•åšåˆ°ä¸Šå–æ•´å‘¢ï¼Ÿåªéœ€è¦å–midæ—¶åœ¨l + råé¢å†åŠ 1å³å¯ï¼Œè¿™é‡Œlå’Œréƒ½æ˜¯é—­åŒºé—´ï¼Œæ‰€ä»¥å½“a[mid] &gt; xæ—¶ï¼Œr &#x3D; mid - 1.<br>æ˜¯å¦è¿˜æœ‰å…¶ä»–åŠæ³•æ—¢ä¸ä¿®æ”¹åŒºé—´çš„å¼€é—­æ€§å’Œå¾ªç¯ç»ˆæ­¢æ¡ä»¶ï¼Œåˆä¸ç”¨ä¸Šå–æ•´å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> l1 = l, r1 = n - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (l1 &lt; r1) &#123;</span><br><span class="line">    <span class="type">int</span> mid = l1 + r1 &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (a[mid] &lt;= x)  l1 = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span>    r1 = mid - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>, l, l1 - (a[l1] == x ? <span class="number">0</span> : <span class="number">1</span>));</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹‹æ‰€ä»¥ä¼šè¿›è¡Œç¬¬äºŒè½®æŸ¥æ‰¾ä¸å¤§äºxçš„æœ€åä¸€ä¸ªä½ç½®ï¼Œæ˜¯å› ä¸ºç¬¬ä¸€è½®å·²ç»æ‰¾åˆ°äº†ä¸€ä¸ªç­‰äºxçš„ä½ç½®ã€‚æ‰€ä»¥å®Œå…¨å¯ä»¥å½“a[mid] &lt;&#x3D; xæ—¶ï¼Œä»¤l &#x3D; mid + 1ï¼Œæ­¤æ—¶ï¼ŒlæŒ‡å‘çš„å…ƒç´ å¯èƒ½æ˜¯xä¹Ÿå¯èƒ½æ¯”xå¤§ï¼Œä½†æ˜¯ç”±äºä¸è®ºå¤§å°ï¼Œlå’Œrçš„æŒ‡é’ˆéƒ½ç§»åŠ¨äº†ï¼Œå°±ä¸ä¼šé™·å…¥æ­»å¾ªç¯äº†ï¼Œæœ€åï¼Œå¦‚æœa[l] &#x3D;&#x3D; xåˆ™ï¼Œlå°±æ˜¯xå‡ºç°çš„æœ€åçš„ä½ç½®ï¼Œå¦åˆ™ï¼Œl - 1å°±æ˜¯xå‡ºç°çš„æœ€åä¸€ä¸ªä½ç½®ã€‚æˆ–è®¸æœ‰äººä¼šç–‘æƒ‘ï¼Œå½“a[mid] &lt;&#x3D; xæ—¶ï¼Œlå·²ç»å³ç§»ï¼Œæœ€ålä¸æ˜¯è‚¯å®šæŒ‡å‘çš„æ˜¯å¤§äºxçš„ä½ç½®å˜›ï¼Œä¸ºä»€ä¹ˆä¹Ÿå¯èƒ½æŒ‡å‘ç­‰äºxçš„ä½ç½®ï¼Ÿè¿™æ˜¯å› ä¸ºä¸€æ—¦ç¬¬ä¸€è½®æŸ¥æ‰¾çš„xå‡ºç°çš„ä½ç½®å°±æ˜¯xå”¯ä¸€å‡ºç°çš„ä½ç½®ï¼Œå½“xå‡ºç°åœ¨æ•°ç»„æœ«å°¾æ—¶ï¼Œl &#x3D;&#x3D; rï¼Œå¾ªç¯ä¸ä¼šæ‰§è¡Œï¼Œæ­¤åˆ»læŒ‡å‘çš„è¿˜æ˜¯xï¼Œæ‰€ä»¥åŠ ä¸Šè¿™ä¸ªåˆ¤æ–­å°±å¯ä»¥è§£å†³è¯¥é—®é¢˜äº†ã€‚è¿™ä¹Ÿæ˜¯äºŒåˆ†ç¨‹åºå¯èƒ½é‡è§çš„ç¬¬ä¸‰ç§é—®é¢˜ï¼Œå½“å·¦å³æŒ‡é’ˆéƒ½ç§»åŠ¨æ—¶ï¼Œå¾…æŸ¥æ‰¾å…ƒç´ å¤„åœ¨å…ƒç´ æœ«å°¾ä¼šå¼•èµ·æŸ¥æ‰¾é”™è¯¯ã€‚æ€»çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">100005</span>;</span><br><span class="line"><span class="type">int</span> n, q, x, a[maxn];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;q);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">    <span class="keyword">while</span> (q--) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">        <span class="type">int</span> l = <span class="number">0</span>, r = n - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">            <span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (a[mid] &lt; x)  l = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span>    r = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a[l] != x) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;-1 -1\n&quot;</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> l1 = l, r1 = n;</span><br><span class="line">        <span class="keyword">while</span> (l1 + <span class="number">1</span> &lt; r1) &#123;</span><br><span class="line">            <span class="type">int</span> mid = l1 + r1 &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (a[mid] &lt;= x)  l1 = mid;</span><br><span class="line">            <span class="keyword">else</span>    r1 = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>, l, l1);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
